description = 'JODConverter - Local'

dependencies {
    api project(':jodconverter-core')

    // We cannot use LibreOffice libraries by default.
    // See:
    // https://github.com/sbraconnier/jodconverter/issues/113
    if (project.hasProperty("useOpenOffice")) {
        implementation "org.openoffice:juh:$versions.open_office_version"
        implementation "org.openoffice:jurt:$versions.open_office_version"
        implementation "org.openoffice:ridl:$versions.open_office_version"
        implementation "org.openoffice:unoil:$versions.open_office_version"
    } else {
        implementation "org.libreoffice:juh:$versions.libre_office_version"
        implementation "org.libreoffice:jurt:$versions.libre_office_version"
        implementation "org.libreoffice:ridl:$versions.libre_office_version"
        implementation "org.libreoffice:unoil:$versions.libre_office_version"
    }
//    if (project.hasProperty("useLibreOffice")) {
//        implementation "org.libreoffice:juh:$versions.libre_office_version"
//        implementation "org.libreoffice:jurt:$versions.libre_office_version"
//        implementation "org.libreoffice:ridl:$versions.libre_office_version"
//        implementation "org.libreoffice:unoil:$versions.libre_office_version"
//    } else {
//        implementation "org.openoffice:juh:$versions.open_office_version"
//        implementation "org.openoffice:jurt:$versions.open_office_version"
//        implementation "org.openoffice:ridl:$versions.open_office_version"
//        implementation "org.openoffice:unoil:$versions.open_office_version"
//    }

    implementation libraries.commons_io
    implementation libraries.commons_lang3
    implementation libraries.slf4j_api

    testImplementation libraries.slf4j_log4j
    testImplementation project(path: ':jodconverter-core', configuration: 'tests')

    // We still need junit 4 for powermock until the following issue is resolved.
    // https://github.com/powermock/powermock/issues/830
    //testImplementation libraries.junit
    testRuntimeOnly libraries.junit_vintage_engine
    testImplementation libraries.powermock_junit
    testImplementation libraries.powermock_mockito
}

integrationTest {
    // Run the stress and performance tests manually only
    exclude 'org/jodconverter/StressITest.class'
    exclude 'org/jodconverter/PerformanceITest.class'
}
